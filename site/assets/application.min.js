!function(a,b,c,d,e,f,g,h,i){"use strict";function j(){if(j.memo)return j.memo;var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){e(a,1e3/60)},d=null===b.body;d&&b.documentElement.appendChild(b.createElement("body"));var f="";!function(){var c=b.createElement("div"),d=["webkit","moz","o","ms"];b.body.appendChild(c),h.each(d,function(a,b){c.style[b+"OverflowScrolling"]="touch"}),c.style.overflowScrolling="touch";var e=a.getComputedStyle(c);e.overflowScrolling?f="overflow-scrolling":h.each(d,function(a,b){return e[b+"OverflowScrolling"]&&(f="-"+b+"-overflow-scrolling"),!f}),c.parentNode.removeChild(c)}();var g={};return function(){var c=b.createElement("div"),d=["webkit","moz"],e="https://mail.google.com/mail/images/2/";return g={grab:"url("+e+"openhand.cur), move",grabbing:"url("+e+"closedhand.cur), move"},b.body.appendChild(c),h.each(d,function(b,d){var e,f="-"+d+"-grab";c.style.cursor=f;var h=a.getComputedStyle(c);return e=h.cursor===f,e&&(g={grab:"-"+d+"-grab",grabbing:"-"+d+"-grabbing"}),!e}),c.parentNode.removeChild(c),g}(),j.memo={animate:function(b){return c.call(a,b)},overflowScrolling:f,cursor:g},d&&b.documentElement.removeChild(b.body),j.memo}function k(a,b){b.trigger("overscroll:"+a)}function l(){return(new Date).getTime()}function m(a,b,c){return b.x=a.pageX,b.y=a.pageY,b.time=l(),b.index=c,b}function n(a,b,c,d){var e,f;a&&a.added&&(a.horizontal&&(e=c*(1+b.container.width/b.container.scrollWidth),f=d+b.thumbs.horizontal.top,a.horizontal.css("margin",f+"px 0 0 "+e+"px")),a.vertical&&(e=c+b.thumbs.vertical.left,f=d*(1+b.container.height/b.container.scrollHeight),a.vertical.css("margin",f+"px 0 0 "+e+"px")))}function o(a,b,c){a&&a.added&&!b.persistThumbs&&(c?(a.vertical&&a.vertical.stop(!0,!0).fadeTo("fast",J.thumbOpacity),a.horizontal&&a.horizontal.stop(!0,!0).fadeTo("fast",J.thumbOpacity)):(a.vertical&&a.vertical.fadeTo("fast",0),a.horizontal&&a.horizontal.fadeTo("fast",0)))}function p(a){var b,c="events",d=h._data?h._data(a[0],c):a.data(c);d&&d.click&&(b=d.click.slice(),a.off("click").one("click",function(){return h.each(b,function(b,c){a.click(c)}),!1}))}function q(a){var b=a.data,c=b.thumbs,d=b.options,e="mouseenter"===a.type;o(c,d,e)}function r(a){var b=a.data;b.flags.dragged||n(b.thumbs,b.sizing,this.scrollLeft,this.scrollTop)}function s(a){a.preventDefault();var b=a.data,c=b.options,d=b.sizing,g=b.thumbs,h=b.wheel,i=b.flags,j=a.originalEvent,k=0,l=0,m=0;i.drifting=!1,j.detail?(k=-j.detail,j.detailX&&(l=-j.detailX),j.detailY&&(m=-j.detailY)):j.wheelDelta&&(k=j.wheelDelta/J.wheelTicks,j.wheelDeltaX&&(l=j.wheelDeltaX/J.wheelTicks),j.wheelDeltaY&&(m=j.wheelDeltaY/J.wheelTicks)),k*=c.wheelDelta,l*=c.wheelDelta,m*=c.wheelDelta,h||(b.target.data(H).dragging=i.dragging=!0,b.wheel=h={timeout:null},o(g,c,!0)),"vertical"===c.wheelDirection?this.scrollTop-=k:"horizontal"===c.wheelDirection?this.scrollLeft-=k:(this.scrollLeft-=l,this.scrollTop-=m||k),h.timeout&&f(h.timeout),n(g,d,this.scrollLeft,this.scrollTop),h.timeout=e(function(){b.target.data(H).dragging=i.dragging=!1,o(g,c,b.wheel=null)},J.thumbTimeout)}function t(a){a.preventDefault();var b=a.data,c=a.originalEvent.touches,d=b.options,e=b.sizing,f=b.thumbs,g=b.position,h=b.flags,i=b.target.get(0);c&&c.length&&(a=c[0]),h.dragged||o(f,d,!0),h.dragged=!0,"vertical"!==d.direction&&(i.scrollLeft-=a.pageX-g.x),"horizontal"!==b.options.direction&&(i.scrollTop-=a.pageY-g.y),m(a,b.position),--b.capture.index<=0&&(b.target.data(H).dragging=h.dragging=!0,m(a,b.capture,J.captureThreshold)),n(f,e,i.scrollLeft,i.scrollTop)}function u(a,b,c){var d,e,f,g,h=b.data,i=h.capture,m=h.options,o=h.sizing,p=h.thumbs,q=l()-i.time,r=a.scrollLeft,s=a.scrollTop,t=J.driftDecay;return q>J.driftTimeout?void c(h):(d=m.scrollDelta*(b.pageX-i.x),e=m.scrollDelta*(b.pageY-i.y),"vertical"!==m.direction&&(r-=d),"horizontal"!==m.direction&&(s-=e),f=d/J.driftSequences,g=e/J.driftSequences,k("driftstart",h.target),h.drifting=!0,void j().animate(function u(){if(h.drifting){var b=1,d=-1;h.drifting=!1,(g>b&&a.scrollTop>s||d>g&&a.scrollTop<s)&&(h.drifting=!0,a.scrollTop-=g,g/=t),(f>b&&a.scrollLeft>r||d>f&&a.scrollLeft<r)&&(h.drifting=!0,a.scrollLeft-=f,f/=t),n(p,o,a.scrollLeft,a.scrollTop),j().animate(u)}else k("driftend",h.target),c(h)}))}function v(a){var b=a.data,c=a.originalEvent.touches,d=b.target,e=b.start=h(a.target),f=b.flags;f.drifting=!1,e.size()&&!e.is(b.options.cancelOn)&&(c||a.preventDefault(),j().overflowScrolling||(d.css("cursor",j().cursor.grabbing),d.data(H).dragging=f.dragging=f.dragged=!1,b.options.dragHold?h(document).on(I.drag,b,t):d.on(I.drag,b,t)),b.position=m(a,{}),b.capture=m(a,{},J.captureThreshold),k("dragstart",d))}function w(a){var b=a.data,c=b.target,d=b.options,e=b.flags,f=b.thumbs,g=function(){f&&!d.hoverThumbs&&o(f,d,!1)};d.dragHold?h(document).unbind(I.drag,t):c.unbind(I.drag,t),b.position&&(k("dragend",c),e.dragging&&!j().overflowScrolling?u(c.get(0),a,g):g()),e.dragging&&!j().overflowScrolling&&b.start&&b.start.is(a.target)&&p(b.start),c.data(H).dragging=b.start=b.capture=b.position=e.dragged=e.dragging=!1,c.css("cursor",j().cursor.grab)}function x(a){return a=h.extend({},K,a),"multi"!==a.direction&&a.direction!==a.wheelDirection&&(a.wheelDirection=a.direction),a.scrollDelta=d.abs(parseFloat(a.scrollDelta)),a.wheelDelta=d.abs(parseFloat(a.wheelDelta)),a.scrollLeft=a.scrollLeft===i?null:d.abs(parseFloat(a.scrollLeft)),a.scrollTop=a.scrollTop===i?null:d.abs(parseFloat(a.scrollTop)),a}function y(a){var b=h(a),c=b.width(),d=b.height(),e=c>=a.scrollWidth?c:a.scrollWidth,f=d>=a.scrollHeight?d:a.scrollHeight,g=e>c||f>d;return{valid:g,container:{width:c,height:d,scrollWidth:e,scrollHeight:f},thumbs:{horizontal:{width:c*c/e,height:J.thumbThickness,corner:J.thumbThickness/2,left:0,top:d-J.thumbThickness},vertical:{width:J.thumbThickness,height:d*d/f,corner:J.thumbThickness/2,left:c-J.thumbThickness,top:0}}}}function z(a,b){var c,d=h(a),e=d.data(H)||{},f=d.attr("style"),g=b?function(){e=d.data(H),c=e.thumbs,f?d.attr("style",f):d.removeAttr("style"),c&&(c.horizontal&&c.horizontal.remove(),c.vertical&&c.vertical.remove()),d.removeData(H).off(I.wheel,s).off(I.start,v).off(I.end,w).off(I.ignored,C)}:h.noop;return h.isFunction(e.remover)?e.remover:g}function A(a,b){return{position:"absolute",opacity:b.persistThumbs?J.thumbOpacity:0,"background-color":b.thumbColor,width:a.width+"px",height:a.height+"px","border-radius":a.corner+"px",margin:a.top+"px 0 0 "+a.left+"px","z-index":b.zIndex}}function B(a,b,c){var d="<div/>",e={},f=!1;return b.container.scrollWidth>0&&"vertical"!==c.direction&&(f=A(b.thumbs.horizontal,c),e.horizontal=h(d).css(f).prependTo(a)),b.container.scrollHeight>0&&"horizontal"!==c.direction&&(f=A(b.thumbs.vertical,c),e.vertical=h(d).css(f).prependTo(a)),e.added=!!f,e}function C(a){a.preventDefault()}function D(a,b){b=x(b);var c,d=y(a),e={options:b,sizing:d,flags:{dragging:!1},remover:z(a,!0)};(d.valid||b.ignoreSizing)&&(e.target=a=h(a).css({position:"relative",cursor:j().cursor.grab}).on(I.start,e,v).on(I.end,e,w).on(I.ignored,e,C),b.dragHold?h(document).on(I.end,e,w):e.target.on(I.end,e,w),null!==b.scrollLeft&&a.scrollLeft(b.scrollLeft),null!==b.scrollTop&&a.scrollTop(b.scrollTop),j().overflowScrolling?a.css(j().overflowScrolling,"touch"):a.on(I.scroll,e,r),b.captureWheel&&a.on(I.wheel,e,s),b.showThumbs?j().overflowScrolling?a.css("overflow","scroll"):(a.css("overflow","hidden"),e.thumbs=c=B(a,d,b),c.added&&(n(c,d,a.scrollLeft(),a.scrollTop()),b.hoverThumbs&&a.on(I.hover,e,q))):a.css("overflow","hidden"),a.data(H,e))}function E(a){z(a)()}function F(a){return this.removeOverscroll().each(function(){D(this,a)})}function G(){return this.each(function(){E(this)})}var H="overscroll",I={drag:"mousemove touchmove",end:"mouseup mouseleave click touchend touchcancel",hover:"mouseenter mouseleave",ignored:"select dragstart drag",scroll:"scroll",start:"mousedown touchstart",wheel:"mousewheel DOMMouseScroll"},J={captureThreshold:3,driftDecay:1.1,driftSequences:22,driftTimeout:100,scrollDelta:15,thumbOpacity:.7,thumbThickness:6,thumbTimeout:400,wheelDelta:20,wheelTicks:120},K={cancelOn:"select,input,textarea",direction:"multi",dragHold:!1,hoverThumbs:!1,scrollDelta:J.scrollDelta,showThumbs:!0,persistThumbs:!1,captureWheel:!0,wheelDelta:J.wheelDelta,wheelDirection:"multi",zIndex:999,ignoreSizing:!1,thumbColor:"black"};F.settings=J,h.extend(g,{overscroll:F,removeOverscroll:G})}(window,document,navigator,Math,setTimeout,clearTimeout,jQuery.fn,jQuery),function(){"use strict";function a(d){if(!d)throw new Error("No options passed to Waypoint constructor");if(!d.element)throw new Error("No element option passed to Waypoint constructor");if(!d.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+b,this.options=a.Adapter.extend({},a.defaults,d),this.element=this.options.element,this.adapter=new a.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=a.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=a.Context.findOrCreateByElement(this.options.context),a.offsetAliases[this.options.offset]&&(this.options.offset=a.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),c[this.key]=this,b+=1}var b=0,c={};a.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)},a.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)},a.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete c[this.key]},a.prototype.disable=function(){return this.enabled=!1,this},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},a.prototype.next=function(){return this.group.next(this)},a.prototype.previous=function(){return this.group.previous(this)},a.destroyAll=function(){var a=[];for(var b in c)a.push(c[b]);for(var d=0,e=a.length;e>d;d++)a[d].destroy()},a.refreshAll=function(){a.Context.refreshAll()},a.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},a.viewportWidth=function(){return document.documentElement.clientWidth},a.adapters=[],a.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},a.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=a}(),function(){"use strict";function a(a){window.setTimeout(a,1e3/60)}function b(a){this.element=a,this.Adapter=e.Adapter,this.adapter=new this.Adapter(a),this.key="waypoint-context-"+c,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},a.waypointContextKey=this.key,d[a.waypointContextKey]=this,c+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var c=0,d={},e=window.Waypoint,f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a,g=window.onload;b.prototype.add=function(a){var b=a.options.horizontal?"horizontal":"vertical";this.waypoints[b][a.key]=a,this.refresh()},b.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical);a&&b&&(this.adapter.off(".waypoints"),delete d[this.key])},b.prototype.createThrottledResizeHandler=function(){function a(){b.handleResize(),b.didResize=!1}var b=this;this.adapter.on("resize.waypoints",function(){b.didResize||(b.didResize=!0,f(a))})},b.prototype.createThrottledScrollHandler=function(){function a(){b.handleScroll(),b.didScroll=!1}var b=this;this.adapter.on("scroll.waypoints",function(){(!b.didScroll||e.isTouch)&&(b.didScroll=!0,f(a))})},b.prototype.handleResize=function(){e.Context.refreshAll()},b.prototype.handleScroll=function(){var a={},b={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var c in b){var d=b[c],e=d.newScroll>d.oldScroll,f=e?d.forward:d.backward;for(var g in this.waypoints[c]){var h=this.waypoints[c][g],i=d.oldScroll<h.triggerPoint,j=d.newScroll>=h.triggerPoint,k=i&&j,l=!i&&!j;(k||l)&&(h.queueTrigger(f),a[h.group.id]=h.group)}}for(var m in a)a[m].flushTriggers();this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}},b.prototype.innerHeight=function(){return this.element===this.element.window?e.viewportHeight():this.adapter.innerHeight()},b.prototype.remove=function(a){delete this.waypoints[a.axis][a.key],this.checkEmpty()},b.prototype.innerWidth=function(){return this.element===this.element.window?e.viewportWidth():this.adapter.innerWidth()},b.prototype.destroy=function(){var a=[];for(var b in this.waypoints)for(var c in this.waypoints[b])a.push(this.waypoints[b][c]);for(var d=0,e=a.length;e>d;d++)a[d].destroy()},b.prototype.refresh=function(){var a,b=this.element===this.element.window,c=this.adapter.offset(),d={};this.handleScroll(),a={horizontal:{contextOffset:b?0:c.left,contextScroll:b?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:b?0:c.top,contextScroll:b?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var e in a){var f=a[e];for(var g in this.waypoints[e]){var h,i,j,k,l,m=this.waypoints[e][g],n=m.options.offset,o=m.triggerPoint,p=0,q=null==o;m.element!==m.element.window&&(p=m.adapter.offset()[f.offsetProp]),"function"==typeof n?n=n.apply(m):"string"==typeof n&&(n=parseFloat(n),m.options.offset.indexOf("%")>-1&&(n=Math.ceil(f.contextDimension*n/100))),h=f.contextScroll-f.contextOffset,m.triggerPoint=p+h-n,i=o<f.oldScroll,j=m.triggerPoint>=f.oldScroll,k=i&&j,l=!i&&!j,!q&&k?(m.queueTrigger(f.backward),d[m.group.id]=m.group):!q&&l?(m.queueTrigger(f.forward),d[m.group.id]=m.group):q&&f.oldScroll>=m.triggerPoint&&(m.queueTrigger(f.forward),d[m.group.id]=m.group)}}for(var r in d)d[r].flushTriggers();return this},b.findOrCreateByElement=function(a){return b.findByElement(a)||new b(a)},b.refreshAll=function(){for(var a in d)d[a].refresh()},b.findByElement=function(a){return d[a.waypointContextKey]},window.onload=function(){g&&g(),b.refreshAll()},e.Context=b}(),function(){"use strict";function a(a,b){return a.triggerPoint-b.triggerPoint}function b(a,b){return b.triggerPoint-a.triggerPoint}function c(a){this.name=a.name,this.axis=a.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),d[this.axis][this.name]=this}var d={vertical:{},horizontal:{}},e=window.Waypoint;c.prototype.add=function(a){this.waypoints.push(a)},c.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},c.prototype.flushTriggers=function(){for(var c in this.triggerQueues){var d=this.triggerQueues[c],e="up"===c||"left"===c;d.sort(e?b:a);for(var f=0,g=d.length;g>f;f+=1){var h=d[f];(h.options.continuous||f===d.length-1)&&h.trigger([c])}}this.clearTriggerQueues()},c.prototype.next=function(b){this.waypoints.sort(a);var c=e.Adapter.inArray(b,this.waypoints),d=c===this.waypoints.length-1;return d?null:this.waypoints[c+1]},c.prototype.previous=function(b){this.waypoints.sort(a);var c=e.Adapter.inArray(b,this.waypoints);return c?this.waypoints[c-1]:null},c.prototype.queueTrigger=function(a,b){this.triggerQueues[b].push(a)},c.prototype.remove=function(a){var b=e.Adapter.inArray(a,this.waypoints);b>-1&&this.waypoints.splice(b,1)},c.prototype.first=function(){return this.waypoints[0]},c.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},c.findOrCreate=function(a){return d[a.axis][a.name]||new c(a)},e.Group=c}(),function(){"use strict";function a(a){this.$element=b(a)}var b=window.jQuery,c=window.Waypoint;b.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(b,c){a.prototype[c]=function(){var a=Array.prototype.slice.call(arguments);return this.$element[c].apply(this.$element,a)}}),b.each(["extend","inArray","isEmptyObject"],function(c,d){a[d]=b[d]}),c.adapters.push({name:"jquery",Adapter:a}),c.Adapter=a}(),function(){"use strict";function a(a){return function(){var c=[],d=arguments[0];return a.isFunction(arguments[0])&&(d=a.extend({},arguments[1]),d.handler=arguments[0]),this.each(function(){var e=a.extend({},d,{element:this});"string"==typeof e.context&&(e.context=a(this).closest(e.context)[0]),c.push(new b(e))}),c}}var b=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))}(),function(){var a,b,c,d;a=function(a){return $(".collection-wrapper").animate({scrollLeft:a})},b=function(){var b,c,d;return c=$(window).height(),d=$(window).width(),b=d/2-200,$(".collection-container").width(d-200),$(".collection-right").css({left:d-200}),$(".collection-wrapper").height($(".collection-right").height()),$("[data-collection-toggle]").click(function(){var b,c;return b=parseInt($(this).attr("data-collection-toggle")),c=d*b,a(c)}),$(".collection-wrapper").overscroll({scrollLeft:b}),$(".collection-wrapper").scroll(function(){return $(".collection-toggle").css({left:d-200-$(this).scrollLeft()}),$(".collection-toggle-left").css({left:d-200-$(this).scrollLeft()-25}),$(".collection-toggle").css($(this).scrollTop()>c/2?{top:0}:{top:c/2-$(this).scrollTop()}),$(".collection-right").offset().top+$(".collection-right").height()>=$(window).height()?$(".collection-right").offset().top+$(window).height()>=$(window).height()?$(".collection-right").css({"margin-top":$(this).scrollTop()}):void 0:$(".collection-right").css({"margin-top":$(this).scrollTop()-($(".collection-right").height()-$(window).height())})})},d=function(a){return console.log(a),$(".listing-bg").css({background:$(a).attr("data-bg")})},c=function(){var a,b;return b=$(window).height(),a=new Waypoint({element:$("[data-listing-1]"),handler:function(a){"down"===a&&d(this.element)},offset:0}),a=new Waypoint({element:$("[data-listing-2]"),handler:function(a){"down"===a&&d(this.element)},offset:200}),a=new Waypoint({element:$("[data-listing-3]"),handler:function(a){"down"===a&&d(this.element)},offset:200}),a=new Waypoint({element:$("[data-listing-1]"),handler:function(a){"up"===a&&d(this.element)},offset:-200}),a=new Waypoint({element:$("[data-listing-2]"),handler:function(a){"up"===a&&d(this.element)},offset:-200}),a=new Waypoint({element:$("[data-listing-3]"),handler:function(a){"up"===a&&d(this.element)},offset:-200})},$(function(){return b(),c()})}.call(this);